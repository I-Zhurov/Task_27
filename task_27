''' открываем текстовый файл
используем with, потому что этот оператор открывает
и автоматически закрывает файл после окончания работы программы '''

with open('27_A.txt') as f:
    #для файла B открытие файла будет таким же, только укажем в скобках '27_B.txt'
    #с помощью генератора списка создаем список из целых значений
    data = [int(x) for x in f]
    mink = 0 #в этой переменной минимальная длина
    maxsum = 0 #а здесь максимальная сумма
    #создаем цикл для перебора значений
    for i in range(len(data)): #начальное значение, которое будет меняться на +1 с каждой новой итерацией
        for j in range(i, len(data)): #каждое последующее значение
            s = sum(data[i:j + 1]) #находим сумму элементов с текущими значениями
            if s % 89 == 0 and s > maxsum: #если сумма кратна 89 и она больше максимальной суммы
                maxsum, mink = s, j - i + 1 #то исходной переменной maxsum присваиваем новую сумму,
                #а в mink заносим минимальную длину путем нахождения разности j И i, так как они обозначают не значения, а номера индексов
            if s % 89 == 0 and s == maxsum: #если сумма кратна 89 и она равна максимальной сумме
                mink = min(mink, j - i + 1) #то в mink заносим минимальную длину последовательности среди mink и разности j и i
print(mink) #на экран выводим получившееся значения
#Файл A: 159
#Файл B: 67059
